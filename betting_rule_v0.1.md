# NLHE ベットサイズ仕様（概要）

本仕様は、通常のノーリミット・テキサスホールデム（NLHE）における  
ベットサイズおよび関連アクションの公式ルールを定義する。

本ゲームはノーリミット方式を採用し、
プレイヤーは自身の残りスタック全額まで任意の金額をベットまたはレイズできる。

ただし、最低ベット額・最低レイズ額・オールインの扱いには
明確な制約が存在するため、本仕様ではそれらを明文化する。

# ベット（Bet）

## 定義
- ベットとは、そのストリートでまだ誰もチップを投入していない状態で、
  最初に金額を提示する行為である。

## 実行条件
- ベットは Check が可能な状態でのみ選択できる。

## ベットサイズ制約
- 最低ベット額：
  - プリフロップ：BB額
  - フロップ以降：直前ストリートにおける最大ベット額
- 最大ベット額：
  - 自分の残りスタック全額（オールイン）

## 補足
- ベット額は整数値とする（最小単位はBBまたはチップ単位）。

# コール（Call）

## 定義
- コールとは、直前に提示されたベット額まで、
  自身が不足している分のチップを投入する行為である。

## コール額の計算
- コール額 ＝ 現在のベット額 − 自分がすでに投入している額

## 制約
- コールは常に現在のベット額を基準に計算される。
- コール額がスタックを超える場合は、オールインとして処理される。

# レイズ（Raise）

## 定義
- レイズとは、すでに存在するベットに対して
  1. コール額を満たし
  2. さらに上乗せする行為である。

## ミニマムレイズ
- ミニマムレイズ額は、直前のベットまたはレイズの「増分」と同額以上とする。
- 「いくらにするか」ではなく、「いくら上げたか」を基準に判定する。

## レイズサイズ制約
- レイズ後の総額：
  - 現在のベット額 + ミニマム増分以上
- 最大レイズ額：
  - 自分の残りスタック全額（オールイン）

## 注意事項
- ミニマムレイズ未満の増分は、原則としてレイズとして認められない。

# オールイン（All-in）

## 定義
- オールインとは、自分の残りスタック全額を投入する行為である。
- オールインはベットまたはレイズとして扱われる。

## フルレイズ判定
- オールインによる増分がミニマムレイズ額以上の場合：
  - フルレイズとして扱う
  - 以降のプレイヤーは再レイズ可能
- オールインによる増分がミニマムレイズ額未満の場合：
  - 不完全レイズ（ショートオールイン）として扱う
  - 以降のプレイヤーはコールまたはフォールドのみ可能
  - すでにアクションしたプレイヤーは再レイズ不可

# チェック（Check）

## 定義
- チェックとは、チップを投入せずにアクションを終了する行為である。

## 実行条件
- チェックは、そのストリートでベットが存在しない場合のみ可能とする。

## 制約
- ベットが提示された後は、チェックを選択することはできない。

# ポットサイズとの関係

## 基本原則
- NLHE の公式ルールにおいて、ポットサイズに基づく
  ベット・レイズの上限または下限は存在しない。

## 補足
- ハーフポット、ポットベット、オーバーベット等は
  戦術・慣習上の概念であり、ルール上の制約ではない。

# 実装上の補足事項

## 判定基準
- ベット・レイズの可否判定は、
  常に現在のベット額および直前の増分を基準に行う。

## 計算方針
- ベットサイズの検証は
  「最終的にいくらか」ではなく「増分が条件を満たすか」で行う。

## エラー処理
- ミニマム未満のベット・レイズ指定は入力エラーとして拒否する。
- 不正なサイズ指定はサーバー側で必ず検証する。

